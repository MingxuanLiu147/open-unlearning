# 📖 Open-Unlearning 文档索引

> 所有中文文档和运行脚本的完整索引

---

## 🚀 快速开始（按顺序阅读）

### 1️⃣ 首次运行

**📄 `README_运行SimNPO.md`** ⭐ **从这里开始！**
- 三种运行方式（一键脚本/命令行/多GPU）
- 完整的运行前检查清单
- 预期结果和常见问题

**⏱️ 阅读时间：** 10 分钟

---

### 2️⃣ 快速参考

**📄 `QUICK_START_SimNPO.md`** ⭐ **快速查找命令**
- 一页纸的快速参考卡
- 常用命令和参数
- 快速故障排除表

**⏱️ 阅读时间：** 2 分钟

---

### 3️⃣ 详细指南

**📄 `SIMNPO_TOFU_运行指南.md`** ⭐ **深入理解**
- 完整的 pipeline 说明（7 个步骤）
- 参数对齐论文设置
- 评估指标详解
- 高级配置和优化

**⏱️ 阅读时间：** 30 分钟

---

### 4️⃣ 原理深度解析

**📄 `UNLEARNING_GUIDE_CN.md`** ⭐ **理论基础**
- Unlearning 是什么？
- SimNPO 算法原理和数学公式
- 整体架构和数据流
- 如何修改方法/数据集/评价指标

**⏱️ 阅读时间：** 60 分钟

---

### 5️⃣ 代码注释总结

**📄 `代码注释总结.md`**
- 已添加注释的文件列表
- 核心概念可视化解释
- 参数调优指南
- 训练流程图

**⏱️ 阅读时间：** 15 分钟

---

## 🔧 运行脚本

### ⚡ 一键运行脚本

**📜 `run_simnpo_tofu_1b.sh`** ⭐ **推荐！**

```bash
bash run_simnpo_tofu_1b.sh
```

**功能：**
- ✅ 自动运行训练（SimNPO on TOFU, forget=10%）
- ✅ 自动运行评估
- ✅ 显示详细日志和结果说明
- ✅ 参数已对齐论文设置

**预计时间：** 2-3 小时（单卡 A100/V100）

---

## 📚 文档地图

```
open-unlearning/
│
├── 📖 快速开始
│   ├── README_运行SimNPO.md           ⭐ 从这里开始
│   ├── QUICK_START_SimNPO.md          ⭐ 快速参考卡
│   └── run_simnpo_tofu_1b.sh          ⭐ 一键运行脚本
│
├── 📘 详细指南
│   ├── SIMNPO_TOFU_运行指南.md        ⭐ 完整 pipeline
│   └── UNLEARNING_GUIDE_CN.md         ⭐ 原理详解
│
├── 📝 代码注释
│   ├── 代码注释总结.md                 ⭐ 注释总结
│   ├── src/train.py                   ✅ 已添加详细注释
│   ├── src/trainer/unlearn/simnpo.py  ✅ 已添加详细注释
│   ├── src/trainer/unlearn/grad_diff.py ✅ 已添加详细注释
│   └── src/data/unlearn.py            ✅ 已添加详细注释
│
└── 📋 本文档
    └── 📖_文档索引.md                  ⭐ 文档导航
```

---

## 🎯 按使用场景选择文档

### 场景 1: 我想立刻运行实验

**推荐路径：**
1. 阅读 `README_运行SimNPO.md`（10 分钟）
2. 运行 `bash run_simnpo_tofu_1b.sh`
3. 遇到问题查看 `QUICK_START_SimNPO.md`

---

### 场景 2: 我想理解 unlearning 原理

**推荐路径：**
1. 阅读 `UNLEARNING_GUIDE_CN.md` 第 1-5 章（40 分钟）
2. 查看代码注释：`src/train.py` 和 `src/trainer/unlearn/simnpo.py`
3. 阅读 `代码注释总结.md` 中的可视化流程

---

### 场景 3: 我想修改参数或数据集

**推荐路径：**
1. 阅读 `SIMNPO_TOFU_运行指南.md` 第 6 章（10 分钟）
2. 参考 `UNLEARNING_GUIDE_CN.md` 第 6 章（15 分钟）
3. 查看 `QUICK_START_SimNPO.md` 的参数速查表

---

### 场景 4: 我遇到了错误

**推荐路径：**
1. 查看 `QUICK_START_SimNPO.md` 的故障排除表（2 分钟）
2. 查看 `README_运行SimNPO.md` 的常见问题（5 分钟）
3. 查看 `SIMNPO_TOFU_运行指南.md` 的详细排查（10 分钟）

---

### 场景 5: 我想对比不同方法

**推荐路径：**
1. 阅读 `SIMNPO_TOFU_运行指南.md` 第 7 章（10 分钟）
2. 修改 `run_simnpo_tofu_1b.sh` 脚本中的 `TRAINER` 参数
3. 或者创建自己的对比脚本

---

## 📊 文档内容对比

| 文档 | 长度 | 侧重点 | 适合人群 |
|------|------|--------|----------|
| **README_运行SimNPO.md** | 中 | 快速开始 | 所有人 ⭐ |
| **QUICK_START_SimNPO.md** | 短 | 命令参考 | 有经验的用户 |
| **SIMNPO_TOFU_运行指南.md** | 长 | 详细步骤 | 需要深入理解的用户 |
| **UNLEARNING_GUIDE_CN.md** | 很长 | 原理详解 | 研究人员 |
| **代码注释总结.md** | 中 | 代码说明 | 开发者 |

---

## 🔗 相关资源

### 项目内部

- **配置文件：** `configs/`
  - `unlearn.yaml` - 主配置
  - `trainer/SimNPO.yaml` - SimNPO 配置
  - `experiment/unlearn/tofu/default.yaml` - TOFU 实验配置

- **训练脚本：** `scripts/`
  - `tofu_unlearn.sh` - 批量训练脚本

### 外部资源

- **SimNPO 论文：** https://github.com/OPTML-Group/Unlearn-Simple
- **TOFU 数据集：** https://huggingface.co/datasets/locuslab/TOFU
- **LLaMA 模型：** https://huggingface.co/meta-llama/Llama-3.2-1B-Instruct

---

## ✨ 文档特色

### 🎨 中文友好
- 所有文档都是**简体中文**
- 包含大量**示例和代码片段**
- **逐行注释**关键代码

### 📈 循序渐进
- 从**快速开始**到**深度解析**
- 适合**不同层次**的用户
- **实用性优先**

### 🔍 易于查找
- **清晰的目录结构**
- **丰富的交叉引用**
- **详细的索引和表格**

### 🛠️ 实战导向
- **可直接运行的脚本**
- **真实的配置示例**
- **常见问题解答**

---

## 💡 使用建议

### 首次使用

1. ✅ 阅读 `README_运行SimNPO.md`（必读）
2. ✅ 运行 `bash run_simnpo_tofu_1b.sh`（必做）
3. ✅ 参考 `QUICK_START_SimNPO.md` 调整参数（可选）

### 深入研究

1. ✅ 阅读 `UNLEARNING_GUIDE_CN.md`（理解原理）
2. ✅ 查看代码注释（理解实现）
3. ✅ 阅读 `SIMNPO_TOFU_运行指南.md`（优化配置）

### 问题排查

1. ✅ 查看 `QUICK_START_SimNPO.md` 的故障排除表
2. ✅ 查看 `README_运行SimNPO.md` 的常见问题
3. ✅ 查看 `SIMNPO_TOFU_运行指南.md` 的详细排查

---

## 📞 获取帮助

### 优先级

1. **查看文档**（本索引）
2. **查看代码注释**（`src/` 目录）
3. **查看配置文件**（`configs/` 目录）
4. **查看日志文件**（`saves/` 目录）

### 报告问题时提供

- 使用的文档/脚本
- 完整的命令
- 错误信息
- 日志文件

---

## 🎉 开始您的 Unlearning 之旅！

**推荐起点：**

```bash
# 1. 阅读快速开始（10 分钟）
cat README_运行SimNPO.md

# 2. 运行实验（2-3 小时）
bash run_simnpo_tofu_1b.sh

# 3. 查看结果
cat saves/unlearn/tofu_Llama-3.2-1B-Instruct_forget10_SimNPO_v1/evals/TOFU_EVAL.json
```

---

**最后更新：** 2026-02-02  
**版本：** v1.0  
**维护者：** Open-Unlearning Team

**祝您实验顺利！** 🚀
